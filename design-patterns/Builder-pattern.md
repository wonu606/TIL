# 빌더 패턴

*빌더 패턴은 객체의 복잡한 생성을 단계별로 분리하려는 의도로 설계된 패턴*

## 알려진 빌더 패턴

- 생성시 지정해야 할 인자가 많을 때 사용하는 패턴
- 객체 생성 시 여러 단계를 순차적으로 거칠 때, 이 단계의 순서를 결정해 두고 각 단계를 다양하게 구현하는 패턴   
  (템플릿 메서드 패턴과 유사)

## 사용 예시

주로 필요한 값만 넣을 필요가 있는 객체에 사용한다.

- `ResponseEntity`
- `HttpSecurity`

## 구성 요소(Component)

- `Builder`: 객체의 공통적인 생성 단계를 정의
- `ConcreateBuilder`: Builder의 구체적인 구현
- `Director`: `ConcreateBuilder`를 사용하여 최종 객체를 생성
- `Product`: 최종적으로 생성되는 객체

## 장단점

### 장점

- 어떤 값을 넣는지 한 눈에 명확히 알 수 있다.
- 매개변수를 선택적으로 사용하여 객체를 생성할 수 있다.   
  그래서 사용자는 필요한 속성만 설정하고 나머지는 기본값이나 생략할 수 있다.
- 새로운 속성이나 옵션을 추가할 때 `Product`의 생성자에 추가하거나 수정하지 않을 수 있다.   
  하지만 오히려 누락이 생겨 오류가 날 수도 있다.

### 단점

- `Builder`라는 클래스가 추가적으로 필요하여 코드의 복잡성이 증가할 수 있다.(간단한 객체의 경우 과도할 수 있다)
- `Builder`를 통해 최종 단계가 아닌 중간 단계에서도 객체를 만들게 되면 오버헤드를 초래하여 성능 저하가 발생할 수 있다.
- 생성 시 필요한 인자를 누락할 가능성이 있다.

## 예제 코드

[예제코드 링크](https://github.com/wonu606/TIL/tree/main/design-patterns/code/src/main/java/com/wonu606/builderpattern)
